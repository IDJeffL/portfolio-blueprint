(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{2774:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return r(625)}])},625:function(e,n,r){"use strict";r.r(n),r.d(n,{__N_SSG:function(){return _},default:function(){return x}});var a=r(7297),t=r(5893),o=r(2483),s=r(5850),i=r(7283),c=r(9548),d=r(5261),u=r(7294);function l(){var e=(0,a.Z)(["\n  query GetSearchResults($first: Int!, $after: String, $search: String) {\n    contentNodes(\n      first: $first, \n      after: $after,  \n      where: { \n        search: $search\n      }\n    ) {\n      edges {\n        node {\n          id\n          uri\n          date\n          databaseId\n          ... on NodeWithTitle {\n            title\n          }\n          ... on NodeWithExcerpt {\n            excerpt\n          }\n        }\n      }\n      pageInfo {\n        hasNextPage\n        hasPreviousPage\n        startCursor\n        endCursor\n      }\n    }\n  }\n"]);return l=function(){return e},e}var h=(0,i.Ps)(l()),f=r(3132),v=r.n(f),g=r(8387);function m(){var e=(0,a.Z)(["\n  ","\n  ","\n  query GetPageData(\n    $headerLocation: MenuLocationEnum\n    $footerLocation: MenuLocationEnum\n  ) {\n    generalSettings {\n      ...BlogInfoFragment\n    }\n    headerMenuItems: menuItems(where: { location: $headerLocation }) {\n      nodes {\n        ...NavigationMenuItemFragment\n      }\n    }\n    footerMenuItems: menuItems(where: { location: $footerLocation }) {\n      nodes {\n        ...NavigationMenuItemFragment\n      }\n    }\n    categories {\n      nodes {\n        databaseId\n        uri\n        name\n      }\n    }\n  }\n"]);return m=function(){return e},e}var _=!0;function x(){var e,n,r,a,o,i=(0,u.useState)(""),d=i[0],l=i[1],f=(0,s.a)(x.query,{variables:x.variables()}).data,m=f.generalSettings,_=m.title,N=m.description,p=null!==(o=f.headerMenuItems.nodes)&&void 0!==o?o:[],j=f.categories.nodes,I=(0,s.a)(h,{variables:{first:g.Z.postsPerPage,after:"",search:d},skip:""===d,fetchPolicy:"network-only"}),P=I.data,S=I.loading,w=I.error,L=I.fetchMore;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.HJ,{title:_,description:N}),(0,t.jsx)(c.h4,{title:_,description:N,menuItems:p}),(0,t.jsxs)(c.or,{children:[(0,t.jsx)("div",{className:v()["search-header-pane"],children:(0,t.jsxs)("div",{className:"container small",children:[(0,t.jsx)("h2",{className:v()["search-header-text"],children:d&&!S?'Showing results for "'.concat(d,'"'):"Search"}),(0,t.jsx)(c.Mj,{value:d,onChange:function(e){return l(e)}})]})}),(0,t.jsxs)("div",{className:"container small",children:[w&&(0,t.jsx)("div",{className:"alert-error",children:"An error has occurred. Please refresh and try again."}),(0,t.jsx)(c.sZ,{searchResults:null===P||void 0===P||null===(e=P.contentNodes)||void 0===e||null===(n=e.edges)||void 0===n?void 0:n.map((function(e){return e.node})),isLoading:S}),(null===P||void 0===P||null===(r=P.contentNodes)||void 0===r||null===(a=r.pageInfo)||void 0===a?void 0:a.hasNextPage)&&(0,t.jsx)("div",{className:v()["load-more"],children:(0,t.jsx)(c.zx,{onClick:function(){var e,n;L({variables:{after:null===P||void 0===P||null===(e=P.contentNodes)||void 0===e||null===(n=e.pageInfo)||void 0===n?void 0:n.endCursor}})},children:"Load more"})}),!S&&void 0===P&&(0,t.jsx)(c.Ar,{categories:j})]})]})]})}x.variables=function(){return{headerLocation:o.q,footerLocation:o.N}},x.query=(0,i.Ps)(m(),d.D,c.i9.fragments.entry)},3132:function(e){e.exports={"search-header-text":"_Search_search-header-text__jkBKe","search-header-pane":"_Search_search-header-pane__zuGYP","load-more":"_Search_load-more__CeUuk"}}},function(e){e.O(0,[774,888,179],(function(){return n=2774,e(e.s=n);var n}));var n=e.O();_N_E=n}]);